<div class="intro-header"></div>
<div class="uk-grid uk-padding-remove" uk-grid>
  <div class="uk-width-1-1">
  <h5 id="chacha20">ChaCha20</h5>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-1" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-1');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/1.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-1" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">encrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">ChaCha20</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">)</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">ChaCha20</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">)</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="n">encrypted</span><span class="p">)</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<h5 id="rabbit">Rabbit</h5>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-2" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-2');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/2.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-2" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">encrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">Rabbit</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">)</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">Rabbit</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">)</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="n">encrypted</span><span class="p">)</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<h5 id="blowfish">Blowfish</h5>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-3" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-3');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/3.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-3" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">encrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">Blowfish</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">blockMode</span><span class="p">:</span> <span class="o">.</span><span class="nf">CBC</span><span class="p">(</span><span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">),</span> <span class="nv">padding</span><span class="p">:</span> <span class="o">.</span><span class="n">pkcs7</span><span class="p">)</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">Blowfish</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="nv">blockMode</span><span class="p">:</span> <span class="o">.</span><span class="nf">CBC</span><span class="p">(</span><span class="nv">iv</span><span class="p">:</span> <span class="n">iv</span><span class="p">),</span> <span class="nv">padding</span><span class="p">:</span> <span class="o">.</span><span class="n">pkcs7</span><span class="p">)</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="n">encrypted</span><span class="p">)</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<h5 id="aes">AES</h5>
<div class="uk-alert uk-border-rounded">
  <p class="uk-h3 uk-padding-remove-vertical uk-margin-remove-bottom">Notice regarding padding</p>
  <p>Manual padding of data is optional, and CryptoSwift is using PKCS7 padding by default. If you need manually disable/enable padding, you can do this by setting parameter for AES class</p>
</div>

<p>Variant of AES encryption (AES-128, AES-192, AES-256) depends on given key length:</p>

<ul class="uk-list uk-list-bullet">
  <li>AES-128 = 16 bytes</li>
  <li>AES-192 = 24 bytes</li>
  <li>AES-256 = 32 bytes</li>
  <li>AES-256 example</li>
</ul>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-4" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-4');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/4.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-4" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">try</span> <span class="nf">AES</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span> <span class="nv">blockMode</span><span class="p">:</span> <span class="o">.</span><span class="nf">CBC</span><span class="p">(</span><span class="nv">iv</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="mi">16</span><span class="p">]),</span> <span class="nv">padding</span><span class="p">:</span> <span class="o">.</span><span class="n">pkcs7</span><span class="p">)</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<h5 id="all-at-once">All at once</h5>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-5" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-5');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/5.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-5" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="nf">do</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">aes</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">AES</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"passwordpassword"</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="s">"drowssapdrowssap"</span><span class="p">)</span> <span class="c1">// aes128</span>
  <span class="k">let</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="k">try</span> <span class="n">aes</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="nf">Array</span><span class="p">(</span><span class="s">"Nullam quis risus eget urna mollis ornare vel eu leo."</span><span class="o">.</span><span class="n">utf8</span><span class="p">))</span>
<span class="p">}</span> <span class="nf">catch</span> <span class="p">{</span> <span class="p">}</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<h5 id="incremental-updates">Incremental updates</h5>
<p>Incremental operations use instance of Cryptor and encrypt/decrypt one part at a time, this way you can save on memory for large files.</p>

<div id="language" class=" uk-card uk-card-default uk-box-shadow-small uk-border-rounded uk-card-body uk-padding-small uk-margin-remove" style="display: block; background-color: #efefef;">
  <ul id="accordion-workingwithciphers-codeblock-6" class="uk-list">
    <li class="uk-open">
      <span class="uk-h6 uk-text-small uk-padding-remove-vertical uk-text-capitalize">
        <span class="uk-align-right">
          <span class="uk-icon-link" title="Copy To Clipboard" uk-tooltip=""><a onclick="copyElementInnerTextToClipboard('workingwithciphers-codeblock-6');" uk-icon="icon: copy; ratio: 1"></a></span>
          <span class="uk-icon-link" title="Download" uk-tooltip=""><a onclick="window.open('https://cryptoswift.io/assets/snippets/examples/ciphers/6.swift');" uk-icon="icon: download; ratio: 1"></a></span>
        </span>
      </span>
      <div id="workingwithciphers-codeblock-6" class="uk-accordion-content uk-margin-remove-bottom uk-margin-small-top uk-padding-remove-vertical">
        
<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="nf">do</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">encryptor</span> <span class="o">=</span> <span class="k">try</span> <span class="nf">AES</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"passwordpassword"</span><span class="p">,</span> <span class="nv">iv</span><span class="p">:</span> <span class="s">"drowssapdrowssap"</span><span class="p">)</span><span class="o">.</span><span class="nf">makeEncryptor</span><span class="p">()</span>

  <span class="k">var</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">UInt8</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="c1">// aggregate partial results</span>
  <span class="n">ciphertext</span> <span class="o">+=</span> <span class="k">try</span> <span class="n">encryptor</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">withBytes</span><span class="p">:</span> <span class="nf">Array</span><span class="p">(</span><span class="s">"Nullam quis risus "</span><span class="o">.</span><span class="n">utf8</span><span class="p">))</span>
  <span class="n">ciphertext</span> <span class="o">+=</span> <span class="k">try</span> <span class="n">encryptor</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">withBytes</span><span class="p">:</span> <span class="nf">Array</span><span class="p">(</span><span class="s">"eget urna mollis "</span><span class="o">.</span><span class="n">utf8</span><span class="p">))</span>
  <span class="n">ciphertext</span> <span class="o">+=</span> <span class="k">try</span> <span class="n">encryptor</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">withBytes</span><span class="p">:</span> <span class="nf">Array</span><span class="p">(</span><span class="s">"ornare vel eu leo."</span><span class="o">.</span><span class="n">utf8</span><span class="p">))</span>
  <span class="c1">// finish at the end</span>
  <span class="n">ciphertext</span> <span class="o">+=</span> <span class="k">try</span> <span class="n">encryptor</span><span class="o">.</span><span class="nf">finish</span><span class="p">()</span>

  <span class="nf">print</span><span class="p">(</span><span class="n">ciphertext</span><span class="o">.</span><span class="nf">toHexString</span><span class="p">())</span>
<span class="p">}</span> <span class="nf">catch</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

      </div>
    </li>
  </ul>
</div>

<div class="uk-alert uk-border-rounded uk-text-lead">
  <p>Have a look at our <a href="https://github.com/krzyzanowskim/CryptoSwift/blob/master/CryptoSwift.playground/Contents.swift" target="_blank">playground</a> for sample code that works with streams.</p>
</div>

  </div>
</div>